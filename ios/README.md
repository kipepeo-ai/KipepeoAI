# Kipepeo iOS

The iOS port of Kipepeo, designed to run high-performance AI and video compression on iPhone 11 through iPhone 16 Pro.

## Features

- **Metal Backend**: Custom kernels optimized for Apple Silicon (A13-A18, M1-M4) for fast LLM inference.
- **VideoToolbox Acceleration**: Hardware-accelerated AV1 decoding using iOS 18+ APIs.
- **KipepeoKit**: A reusable framework containing the core logic, system hooks, and data tracking.
- **SwiftUI Super-App**: A native iOS experience with Home, Chat, Calls, and Mesh Networking.
- **Offline-First**: All features work without internet access, including P2P calling and AI chat.

## Project Structure

```
ios/
├── KipepeoApp/        # SwiftUI Application
├── KipepeoKit/        # Core Framework (Swift + Obj-C++)
├── fastlane/          # App Store automation and metadata
└── CMakeLists.txt     # Build configuration
```

## Prerequisites

- macOS 14.0+ (Sonoma or later)
- Xcode 15.0+
- CMake 3.28+
- iOS 17.0+ SDK

## Build Instructions

1.  **Generate Xcode Project**
    From the root of the repository:
    ```bash
    mkdir build-ios
    cd build-ios
    cmake -G Xcode -DCMAKE_SYSTEM_NAME=iOS -DCMAKE_OSX_SYSROOT=iphoneos ..
    ```

2.  **Open in Xcode**
    Open the generated `KipepeoCore.xcodeproj` (or the main project file generated by CMake).

3.  **Build KipepeoApp**
    Select the `KipepeoApp` scheme and your target device.
    Press `Cmd+B` to build or `Cmd+R` to run.

## Architecture

The iOS app shares the same C++ core (`core/`) as the Android version.

- **Core**: C++ logic for LLM inference and video processing.
- **Metal**: `core/kernels/metal` contains the shader code.
- **Bridging**: `KipepeoKit` exposes C++ functionality to Swift via Objective-C++ wrappers.
- **UI**: Pure SwiftUI views in `KipepeoApp`.

## Testing

- **Unit Tests**: Run the `KipepeoKitTests` target in Xcode.
- **Performance**: Use Instruments (Metal System Trace) to profile inference speed.
